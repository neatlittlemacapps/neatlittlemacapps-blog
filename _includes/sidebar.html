<aside class="sidebar">
  <nav class="sidebar-nav">
    {% assign current_section = page.parent | default: page.title %}
    
    {% if page.url contains '/foundations/' %}
      <h3 class="sidebar-section-title">Foundations</h3>
      <ul class="sidebar-menu">
        <li><a href="{{ '/foundations/' | relative_url }}" class="{% if page.url == '/foundations/' %}active{% endif %}">Overview</a></li>
        <li><a href="{{ '/foundations/colors/' | relative_url }}" class="{% if page.url contains 'colors' %}active{% endif %}">Colors</a></li>
        <li><a href="{{ '/foundations/typography/' | relative_url }}" class="{% if page.url contains 'typography' %}active{% endif %}">Typography</a></li>
      </ul>
    {% elsif page.url contains '/guidelines/' %}
      <h3 class="sidebar-section-title">Guidelines</h3>
      <ul class="sidebar-menu">
        <li><a href="{{ '/guidelines/' | relative_url }}" class="{% if page.url == '/guidelines/' %}active{% endif %}">Overview</a></li>
        <li><a href="{{ '/guidelines/accessibility/' | relative_url }}" class="{% if page.url contains 'accessibility' %}active{% endif %}">Accessibility</a></li>
        <li><a href="{{ '/guidelines/callout-usage/' | relative_url }}" class="{% if page.url contains 'callout-usage' %}active{% endif %}">Do/Don't Callouts</a></li>
        <li><a href="{{ '/guidelines/tab-usage/' | relative_url }}" class="{% if page.url contains 'tab-usage' %}active{% endif %}">Tabs</a></li>
        <li><a href="{{ '/guidelines/layout-components/' | relative_url }}" class="{% if page.url contains 'layout-components' %}active{% endif %}">Layout Components</a></li>
      </ul>
    {% elsif page.url contains '/components/' %}
      <h3 class="sidebar-section-title">Components</h3>
      <ul class="sidebar-menu">
        <li><a href="{{ '/components/' | relative_url }}" class="{% if page.url == '/components/' %}active{% endif %}">Overview</a></li>
        
        <li class="sidebar-submenu-title">Form Controls</li>
        <li><a href="{{ '/components/button/' | relative_url }}" class="{% if page.url contains '/components/button' %}active{% endif %}">Button</a></li>
        <li><a href="{{ '/components/checkbox/' | relative_url }}" class="{% if page.url contains '/components/checkbox' %}active{% endif %}">Checkbox</a></li>
        <li><a href="{{ '/components/icon-button/' | relative_url }}" class="{% if page.url contains '/components/icon-button' %}active{% endif %}">Icon Button</a></li>
        <li><a href="{{ '/components/radio/' | relative_url }}" class="{% if page.url contains '/components/radio' %}active{% endif %}">Radio</a></li>
        <li><a href="{{ '/components/select/' | relative_url }}" class="{% if page.url contains '/components/select' %}active{% endif %}">Select</a></li>
        <li><a href="{{ '/components/textarea/' | relative_url }}" class="{% if page.url contains '/components/textarea' %}active{% endif %}">Text Area</a></li>
        <li><a href="{{ '/components/textfield/' | relative_url }}" class="{% if page.url contains '/components/textfield' %}active{% endif %}">Textfield</a></li>
        
        <li class="sidebar-submenu-title">Feedback & Status</li>
        <li><a href="{{ '/components/alert/' | relative_url }}" class="{% if page.url contains '/components/alert' %}active{% endif %}">Alert</a></li>
        <li><a href="{{ '/components/badge/' | relative_url }}" class="{% if page.url contains '/components/badge' %}active{% endif %}">Badge</a></li>
        <li><a href="{{ '/components/progress/' | relative_url }}" class="{% if page.url contains '/components/progress' %}active{% endif %}">Progress</a></li>
        <li><a href="{{ '/components/skeleton/' | relative_url }}" class="{% if page.url contains '/components/skeleton' %}active{% endif %}">Skeleton</a></li>
        <li><a href="{{ '/components/spinner/' | relative_url }}" class="{% if page.url contains '/components/spinner' %}active{% endif %}">Spinner</a></li>
        <li><a href="{{ '/components/tag/' | relative_url }}" class="{% if page.url contains '/components/tag' %}active{% endif %}">Tag</a></li>
        <li><a href="{{ '/components/tooltip/' | relative_url }}" class="{% if page.url contains '/components/tooltip' %}active{% endif %}">Tooltip</a></li>
        
        <li class="sidebar-submenu-title">Content & Media</li>
        <li><a href="{{ '/components/avatar/' | relative_url }}" class="{% if page.url contains '/components/avatar' %}{% unless page.url contains 'avatar-group' %}active{% endunless %}{% endif %}">Avatar</a></li>
        <li><a href="{{ '/components/avatar-group/' | relative_url }}" class="{% if page.url contains '/components/avatar-group' %}active{% endif %}">Avatar Group</a></li>
        <li><a href="{{ '/components/card/' | relative_url }}" class="{% if page.url contains '/components/card' %}active{% endif %}">Card</a></li>
        <li><a href="{{ '/components/divider/' | relative_url }}" class="{% if page.url contains '/components/divider' %}active{% endif %}">Divider</a></li>
        
        <li class="sidebar-submenu-title">Overlays</li>
        <li><a href="{{ '/components/popover/' | relative_url }}" class="{% if page.url contains '/components/popover' %}active{% endif %}">Popover</a></li>
        
        <li class="sidebar-submenu-title">Status</li>
        <li><a href="{{ '/components/component-status/' | relative_url }}" class="{% if page.url contains '/components/component-status' %}active{% endif %}">Component Status</a></li>
      </ul>
    {% elsif page.url contains '/tokens/' %}
      <h3 class="sidebar-section-title">Tokens</h3>
      <ul class="sidebar-menu">
        <li><a href="{{ '/tokens/' | relative_url }}" class="{% if page.url == '/tokens/' %}active{% endif %}">Overview</a></li>
        <li><a href="{{ '/tokens/color-tokens/' | relative_url }}" class="{% if page.url contains 'color-tokens' %}active{% endif %}">Color Tokens</a></li>
      </ul>
    {% endif %}
  </nav>
</aside>
